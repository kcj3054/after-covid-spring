<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>항공권 검색</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=East+Sea+Dokdo&display=swap" rel="stylesheet">

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
    <style>
        * {
            font-family: 'East Sea Dokdo', cursive;
        }

        .reservation {
            margin: 10px auto auto 30px;
        }

    </style>
    <script>

        // const options = document.querySelectorAll("option");

        function save_flight() {
            // options.forEach(option => {
            //     if (option.selected) {
            //         const selectedValue = option.value;
            //         if (selectedValue)
            //             console.log(selectedValue);
            //     }

            let dep_date = $('#text1').val()
            let arr_date = $('#text2').val()
            let current_loc = $('#text3').val()
            let destination = $('#text4').val()

            $.ajax({
                type: "POST",
                url: '/api/save_flight',
                data: {
                    dep_date_give: dep_date,
                    arr_date_give: arr_date,
                    current_loc_give: current_loc,
                    destination_give: destination,
                },
                success: function (response) {
                    alert(response["msg"])
                    window.close()
                },
                error: function (response) {
                    //에러 !
                    console.log(response)
                }
            })
        }
    </script>
</head>

<body>
<div class="reservation">
    <h6>출발날짜</h6>
    <input type="text" id="text1" placeholder="YYYY-MM-DD"/><p></p>
    <h6>도착날짜</h6>
    <input type="text" id="text2" placeholder="YYYY-MM-DD"/><p></p>
    <h6>출발지</h6>
    <input type="text" id="text3" placeholder="서울"/><p></p>
    <h6>도착지</h6>
    <input type="text" id="text4" placeholder="뉴욕"/><p></p>

    <!--<p></p>-->
    <!--<div class="form-check">-->
    <!--    <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">-->
    <!--    <label class="form-check-label" for="defaultCheck1">-->
    <!--        편도-->
    <!--    </label>-->
    <!--</div>-->
    <!--<div class="form-check">-->
    <!--    <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">-->
    <!--    <label class="form-check-label" for="defaultCheck1">-->
    <!--        왕복-->
    <!--    </label>-->
    <!--</div>-->
    <!--<p></p>-->
    <!--<div class="dropdown">-->
    <!--    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"-->
    <!--            aria-haspopup="true" aria-expanded="false">-->
    <!--        항공사 선택-->
    <!--    </button>-->
    <!--    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">-->
    <!--        <a class="dropdown-item" href="#">Korean Air</a>-->
    <!--        <a class="dropdown-item" href="#">Asiana Airlines</a>-->
    <!--        <a class="dropdown-item" href="#">Cathay Pacific</a>-->
    <!--        <a class="dropdown-item" href="#">Delta Airlines</a>-->
    <!--        <a class="dropdown-item" href="#">Qatar Airways</a>-->
    <!--        <a class="dropdown-item" href="#">Jetstar</a>-->
    <!--        <a class="dropdown-item" href="#">American Airlines</a>-->
    <!--        <a class="dropdown-item" href="#">Emirates Airline</a>-->
    <!--    </div>-->
    <!--    <p></p>-->
    <!--    <button type="button" onclick="save_flight()" class="btn btn-primary">검색</button>-->
    <!--</div>-->
    <!--<label for="airline-select">Choose your airline: </label>-->
    <!--	<select name="arilines" id="airline-select">-->
    <!--			<option value="">항공사 선택</option>-->
    <!--			<option value="AsianaAirlines">Asiana Airlines</option>-->
    <!--			<option value="CathayPacific">Cathay Pacific</option>-->
    <!--			<option value="DeltaAirlines">Delta Airlines</option>-->
    <!--			<option value="QatarAirways">Qatar Airways</option>-->
    <!--			<option value="Jetstar">Jetstar</option>-->
    <!--			<option value="AmericanAirlines">American Airlines</option>-->
    <!--			<option value="emiratesAirlines">Emirates Airline</option>-->
    <!--	</select>-->
    <!--	-->
    <!--</label>-->

    <button type="button" onclick="save_flight()" class="btn btn-primary">최저가 검색</button>
</div>
</body>

</html>